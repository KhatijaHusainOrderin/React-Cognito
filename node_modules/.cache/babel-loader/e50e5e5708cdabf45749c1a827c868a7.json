{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\UserManagementCognitoReactApp\\\\5-Changing-Email\\\\src\\\\components\\\\UpdateCompanyName.js\";\nimport React, { useState, useContext } from \"react\";\nimport { AccountContext } from \"./Account\";\nimport { CognitoUserAttribute } from \"amazon-cognito-identity-js\";\nexport default (() => {\n  const [company, setCompany] = useState(\"\");\n  const {\n    getSession\n  } = useContext(AccountContext);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    getSession().then(_ref => {\n      let {\n        user,\n        headers,\n        token\n      } = _ref;\n      user.getUserAttributes((err, result) => {\n        if (err) {\n          alert(err);\n          return;\n        }\n\n        console.log(\"result\");\n        console.log(result);\n      });\n      console.log(\"token:\" + token);\n      console.log(headers);\n      const attributes = [new CognitoUserAttribute({\n        Name: \"custom:CompanyName\",\n        Value: company\n      })];\n      user.updateAttributes(attributes, (err, result) => {\n        if (err) console.error(err);\n        console.log(\"attribute result\");\n        console.log(result);\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"Set Company Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: company,\n    onChange: event => setCompany(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Update\")));\n});","map":{"version":3,"sources":["C:/Projects/UserManagementCognitoReactApp/5-Changing-Email/src/components/UpdateCompanyName.js"],"names":["React","useState","useContext","AccountContext","CognitoUserAttribute","company","setCompany","getSession","onSubmit","event","preventDefault","then","user","headers","token","getUserAttributes","err","result","alert","console","log","attributes","Name","Value","updateAttributes","error","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,cAAT,QAA+B,WAA/B;AACA,SAASC,oBAAT,QAAqC,4BAArC;AAEA,gBAAe,MAAM;AACnB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAM;AAAEM,IAAAA;AAAF,MAAiBL,UAAU,CAACC,cAAD,CAAjC;;AAEA,QAAMK,QAAQ,GAAIC,KAAD,IAAW;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AAEAH,IAAAA,UAAU,GAAGI,IAAb,CAAkB,QAA8B;AAAA,UAA7B;AAAEC,QAAAA,IAAF;AAAQC,QAAAA,OAAR;AAAiBC,QAAAA;AAAjB,OAA6B;AAC9CF,MAAAA,IAAI,CAACG,iBAAL,CAAuB,CAACC,GAAD,EAAMC,MAAN,KAAiB;AACpC,YAAID,GAAJ,EAAS;AACPE,UAAAA,KAAK,CAACF,GAAD,CAAL;AACA;AACD;;AACDG,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACD,OAPH;AAQEE,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAWN,KAAvB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ;AACA,YAAMQ,UAAU,GAAG,CACjB,IAAIjB,oBAAJ,CAAyB;AAAEkB,QAAAA,IAAI,EAAE,oBAAR;AAA8BC,QAAAA,KAAK,EAAElB;AAArC,OAAzB,CADiB,CAAnB;AAIAO,MAAAA,IAAI,CAACY,gBAAL,CAAsBH,UAAtB,EAAkC,CAACL,GAAD,EAAMC,MAAN,KAAiB;AACjD,YAAID,GAAJ,EAASG,OAAO,CAACM,KAAR,CAAcT,GAAd;AACTG,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AACD,OAJD;AAKH,KApBD;AAqBD,GAxBD;;AA0BA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAET,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AACE,IAAA,KAAK,EAAEH,OADT;AAEE,IAAA,QAAQ,EAAGI,KAAD,IAAWH,UAAU,CAACG,KAAK,CAACiB,MAAN,CAAaC,KAAd,CAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAME;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,CADF,CADF;AAYD,CA3CD","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { AccountContext } from \"./Account\";\r\nimport { CognitoUserAttribute } from \"amazon-cognito-identity-js\";\r\n\r\nexport default () => {\r\n  const [company, setCompany] = useState(\"\");\r\n\r\n  const { getSession } = useContext(AccountContext);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    getSession().then(({ user, headers, token }) => {\r\n      user.getUserAttributes((err, result) => {\r\n          if (err) {\r\n            alert(err)\r\n            return\r\n          }\r\n          console.log(\"result\");\r\n          console.log(result);\r\n        })\r\n        console.log(\"token:\" + token);\r\n        console.log(headers);\r\n        const attributes = [\r\n          new CognitoUserAttribute({ Name: \"custom:CompanyName\", Value: company }),\r\n        ];\r\n  \r\n        user.updateAttributes(attributes, (err, result) => {\r\n          if (err) console.error(err);\r\n          console.log(\"attribute result\");\r\n          console.log(result);\r\n        });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={onSubmit}>\r\n        <label>Set Company Name</label>\r\n        <input\r\n          value={company}\r\n          onChange={(event) => setCompany(event.target.value)}\r\n        />\r\n        <button type=\"submit\">Update</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}